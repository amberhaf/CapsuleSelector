{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A\\\\79tu4\\\\src\\\\pages\\\\Timetable.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport { auth, db } from \"../services/firebase\";\nexport default class Assignment extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: auth().currentUser,\n      timetables: [],\n      content: \"\",\n      due: \"\",\n      complete: false,\n      timetable: {}\n    };\n    this.handleChangeContent = this.handleChangeContent.bind(this);\n    this.handleChangeDue = this.handleChangeDue.bind(this);\n    this.handleChangeComplete = this.handleChangeComplete.bind(this);\n    this.createtimetable = this.createtimetable.bind(this);\n    this.edittimetable = this.edittimetable.bind(this);\n  }\n\n  componentDidMount() {\n    db.ref(\"all_timetables/\".concat(this.state.user.uid)).on(\"value\", snapshot => {\n      var alltimetables = [];\n      snapshot.forEach(snap => {\n        alltimetables.push(snap.val());\n      });\n      console.log(alltimetables);\n      this.setState({\n        timetables: alltimetables\n      });\n    });\n  }\n\n  handleChangeContent(e) {\n    this.setState({\n      content: e.target.value\n    });\n  }\n\n  handleChangeDue(e) {\n    this.setState({\n      due: e.target.value\n    });\n  }\n\n  handleChangeComplete(e) {\n    this.setState({\n      complete: e.target.value\n    });\n  }\n\n  createtimetable() {\n    var uid = this.state.user.uid;\n    var content = this.state.content;\n    var due = this.state.due;\n    var complete = this.state.complete;\n    var timetable = this.state.timetable;\n\n    if (timetable && timetable.content) {\n      return db.ref(\"all_timetables/\".concat(uid, \"/\").concat(timetable.timetable_id)).update({\n        content,\n        due,\n        complete,\n        uid\n      }).then(_ => {\n        this.setState({\n          content: \"\",\n          due: false,\n          complete: \"\",\n          timetable: {}\n        });\n      }).catch(error => console.log(error.message));\n    }\n\n    var timetable_id = \"timetable-\".concat(Date.now());\n    db.ref(\"all_timetables/\".concat(uid, \"/\").concat(timetable_id)).set({\n      content,\n      due,\n      complete,\n      timetable_id,\n      uid\n    }).then(_ => {\n      this.setState({\n        content: \"\",\n        due: false,\n        complete: \"\",\n        timetable: {}\n      });\n    }).catch(error => console.log(error.message));\n  }\n\n  edittimetable(timetable_id) {\n    db.ref(\"all_timetables/\".concat(this.state.user.uid, \"/\").concat(timetable_id)).once(\"value\").then(snapshot => {\n      this.setState({\n        timetable: snapshot.val(),\n        content: snapshot.val().content,\n        due: snapshot.val().due,\n        complete: snapshot.val().complete\n      });\n    });\n  }\n\n  deletetimetable(timetable_id) {\n    db.ref(\"all_timetables/\".concat(this.state.user.uid, \"/\").concat(timetable_id)).remove();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }), this.state.timetables.map(timetable => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: timetable.timetable_id,\n        className: \"card card-body shadow-sm m-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }\n      }, timetable.content), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      }, timetable.due), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }, timetable.complete), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm text-info\",\n        onClick: () => this.edittimetable(timetable.timetable_id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm text-danger\",\n        onClick: () => this.deletetimetable(timetable.timetable_id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      }, \"Delete\"));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mx-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"title\",\n      onChange: this.handleChangeContent,\n      value: this.state.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"due\",\n      onChange: this.handleChangeDue,\n      value: this.state.due,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"complete\",\n      onChange: this.handleChangeComplete,\n      value: this.state.complete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success mt-3\",\n      onClick: this.createtimetable,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, \"Create timetable\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mx-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, \"Login in as: \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 24\n      }\n    }, this.state.user.email)));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/A/79tu4/src/pages/Timetable.js"],"names":["React","Component","Header","Footer","auth","db","Assignment","constructor","state","user","currentUser","timetables","content","due","complete","timetable","handleChangeContent","bind","handleChangeDue","handleChangeComplete","createtimetable","edittimetable","componentDidMount","ref","uid","on","snapshot","alltimetables","forEach","snap","push","val","console","log","setState","e","target","value","timetable_id","update","then","_","catch","error","message","Date","now","set","once","deletetimetable","remove","render","map","email"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport { auth, db } from \"../services/firebase\";\r\n\r\nexport default class Assignment extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      user: auth().currentUser,\r\n      timetables: [],\r\n      content: \"\",\r\n      due: \"\",\r\n      complete: false,\r\n      timetable: {}\r\n    };\r\n    this.handleChangeContent = this.handleChangeContent.bind(this);\r\n    this.handleChangeDue = this.handleChangeDue.bind(this);\r\n    this.handleChangeComplete = this.handleChangeComplete.bind(this);\r\n    this.createtimetable = this.createtimetable.bind(this);\r\n    this.edittimetable = this.edittimetable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    db.ref(`all_timetables/${this.state.user.uid}`).on(\"value\", snapshot => {\r\n      let alltimetables = [];\r\n      snapshot.forEach(snap => {\r\n        alltimetables.push(snap.val());\r\n      });\r\n      console.log(alltimetables);\r\n      this.setState({ timetables: alltimetables });\r\n    });\r\n  }\r\n\r\n  handleChangeContent(e) {\r\n    this.setState({\r\n      content: e.target.value\r\n    });\r\n  }\r\n  handleChangeDue(e) {\r\n    this.setState({\r\n      due: e.target.value\r\n    });\r\n  }\r\n  handleChangeComplete(e) {\r\n    this.setState({\r\n      complete: e.target.value\r\n    });\r\n  }\r\n\r\n  createtimetable() {\r\n    const uid = this.state.user.uid;\r\n    const { content } = this.state;\r\n    const { due } = this.state;\r\n    const { complete } = this.state;\r\n    const timetable = this.state.timetable;\r\n    if (timetable && timetable.content) {\r\n      return db\r\n        .ref(`all_timetables/${uid}/${timetable.timetable_id}`)\r\n        .update({\r\n          content,\r\n          due,\r\n          complete,\r\n          uid\r\n        })\r\n        .then(_ => {\r\n          this.setState({ content: \"\", due: false, complete: \"\", timetable: {} });\r\n        })\r\n        .catch(error => console.log(error.message));\r\n    }\r\n    const timetable_id = `timetable-${Date.now()}`;\r\n    db.ref(`all_timetables/${uid}/${timetable_id}`)\r\n      .set({\r\n        content,\r\n        due,\r\n        complete,\r\n        timetable_id,\r\n        uid\r\n      })\r\n      .then(_ => {\r\n        this.setState({ content: \"\", due: false, complete: \"\", timetable: {} });\r\n      })\r\n      .catch(error => console.log(error.message));\r\n  }\r\n\r\n  edittimetable(timetable_id) {\r\n    db.ref(`all_timetables/${this.state.user.uid}/${timetable_id}`)\r\n      .once(\"value\")\r\n      .then(snapshot => {\r\n        this.setState({\r\n          timetable: snapshot.val(),\r\n          content: snapshot.val().content,\r\n          due: snapshot.val().due,\r\n          complete: snapshot.val().complete\r\n        });\r\n      });\r\n  }\r\n\r\n  deletetimetable(timetable_id) {\r\n    db.ref(`all_timetables/${this.state.user.uid}/${timetable_id}`).remove();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        {this.state.timetables.map(timetable => {\r\n          return (\r\n            <div key={timetable.timetable_id} className=\"card card-body shadow-sm m-4\">\r\n              <p>{timetable.content}</p>\r\n              <p>{timetable.due}</p>\r\n              <p>{timetable.complete}</p>\r\n              <button\r\n                className=\"btn btn-sm text-info\"\r\n                onClick={() => this.edittimetable(timetable.timetable_id)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                className=\"btn btn-sm text-danger\"\r\n                onClick={() => this.deletetimetable(timetable.timetable_id)}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"form-group mx-4\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"title\"\r\n            onChange={this.handleChangeContent}\r\n            value={this.state.content}\r\n          />\r\n        <input\r\n            className=\"form-control\"\r\n            placeholder=\"due\"\r\n            onChange={this.handleChangeDue}\r\n            value={this.state.due}\r\n          />\r\n                    <input\r\n            className=\"form-control\"\r\n            placeholder=\"complete\"\r\n            onChange={this.handleChangeComplete}\r\n            value={this.state.complete}\r\n          />\r\n          <button className=\"btn btn-success mt-3\" onClick={this.createtimetable}>\r\n            Create timetable\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mx-4\">\r\n          Login in as: <strong>{this.state.user.email}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}