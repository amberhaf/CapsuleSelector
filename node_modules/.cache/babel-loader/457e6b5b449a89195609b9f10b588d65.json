{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A\\\\79tu4\\\\src\\\\pages\\\\Assignment.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport { auth, db } from \"../services/firebase\";\nexport default class Assignment extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: auth().currentUser,\n      assignments: [],\n      content: \"\",\n      due: \"\",\n      complete: false,\n      assignment: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.createassignment = this.createassignment.bind(this);\n    this.editassignment = this.editassignment.bind(this);\n  }\n\n  componentDidMount() {\n    db.ref(\"all_assignments/\".concat(this.state.user.uid)).on(\"value\", snapshot => {\n      var allassignments = [];\n      snapshot.forEach(snap => {\n        allassignments.push(snap.val());\n      });\n      console.log(allassignments);\n      this.setState({\n        assignments: allassignments\n      });\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      content: e.target.value,\n      due: e.target.value,\n      complete: e.target.value\n    });\n  }\n\n  createassignment() {\n    var uid = this.state.user.uid;\n    var content = this.state.content;\n    var due = this.state.due;\n    var complete = this.state.complete;\n    var assignment = this.state.assignment;\n\n    if (assignment && assignment.content) {\n      return db.ref(\"all_assignments/\".concat(uid, \"/\").concat(assignment.assignment_id)).update({\n        content,\n        due,\n        complete,\n        uid\n      }).then(_ => {\n        this.setState({\n          content: \"\",\n          due: false,\n          complete: \"\",\n          assignment: {}\n        });\n      }).catch(error => console.log(error.message));\n    }\n\n    var assignment_id = \"assignment-\".concat(Date.now());\n    db.ref(\"all_assignments/\".concat(uid, \"/\").concat(assignment_id)).set({\n      content,\n      due,\n      complete,\n      assignment_id,\n      uid\n    }).then(_ => {\n      this.setState({\n        content: \"\",\n        due: false,\n        complete: \"\",\n        assignment: {}\n      });\n    }).catch(error => console.log(error.message));\n  }\n\n  editassignment(assignment_id) {\n    db.ref(\"all_assignments/\".concat(this.state.user.uid, \"/\").concat(assignment_id)).once(\"value\").then(snapshot => {\n      this.setState({\n        assignment: snapshot.val(),\n        content: snapshot.val().content,\n        due: snapshot.val().due,\n        content: snapshot.val().content\n      });\n    });\n  }\n\n  deleteassignment(assignment_id) {\n    db.ref(\"all_assignments/\".concat(this.state.user.uid, \"/\").concat(assignment_id)).remove();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }), this.state.assignments.map(assignment => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: assignment.assignment_id,\n        className: \"card card-body shadow-sm m-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, assignment.content), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }\n      }, assignment.due), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }\n      }, assignment.complete), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm text-info\",\n        onClick: () => this.editassignment(assignment.assignment_id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm text-danger\",\n        onClick: () => this.deleteassignment(assignment.assignment_id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      }, \"Delete\"));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mx-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      onChange: this.handleChange,\n      value: this.state.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      onChange: this.handleChange,\n      value: this.state.due,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      onChange: this.handleChange,\n      value: this.state.complete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success mt-3\",\n      onClick: this.createassignment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, \"Create assignment\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mx-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, \"Login in as: \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 24\n      }\n    }, this.state.user.email)));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/A/79tu4/src/pages/Assignment.js"],"names":["React","Component","Header","Footer","auth","db","Assignment","constructor","state","user","currentUser","assignments","content","due","complete","assignment","handleChange","bind","createassignment","editassignment","componentDidMount","ref","uid","on","snapshot","allassignments","forEach","snap","push","val","console","log","setState","e","target","value","assignment_id","update","then","_","catch","error","message","Date","now","set","once","deleteassignment","remove","render","map","email"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport { auth, db } from \"../services/firebase\";\r\n\r\nexport default class Assignment extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      user: auth().currentUser,\r\n      assignments: [],\r\n      content: \"\",\r\n      due: \"\",\r\n      complete: false,\r\n      assignment: {}\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.createassignment = this.createassignment.bind(this);\r\n    this.editassignment = this.editassignment.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    db.ref(`all_assignments/${this.state.user.uid}`).on(\"value\", snapshot => {\r\n      let allassignments = [];\r\n      snapshot.forEach(snap => {\r\n        allassignments.push(snap.val());\r\n      });\r\n      console.log(allassignments);\r\n      this.setState({ assignments: allassignments });\r\n    });\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({\r\n      content: e.target.value,\r\n      due: e.target.value,\r\n      complete: e.target.value\r\n    });\r\n  }\r\n\r\n  createassignment() {\r\n    const uid = this.state.user.uid;\r\n    const { content } = this.state;\r\n    const { due } = this.state;\r\n    const { complete } = this.state;\r\n    const assignment = this.state.assignment;\r\n    if (assignment && assignment.content) {\r\n      return db\r\n        .ref(`all_assignments/${uid}/${assignment.assignment_id}`)\r\n        .update({\r\n          content,\r\n          due,\r\n          complete,\r\n          uid\r\n        })\r\n        .then(_ => {\r\n          this.setState({ content: \"\", due: false, complete: \"\", assignment: {} });\r\n        })\r\n        .catch(error => console.log(error.message));\r\n    }\r\n    const assignment_id = `assignment-${Date.now()}`;\r\n    db.ref(`all_assignments/${uid}/${assignment_id}`)\r\n      .set({\r\n        content,\r\n        due,\r\n        complete,\r\n        assignment_id,\r\n        uid\r\n      })\r\n      .then(_ => {\r\n        this.setState({ content: \"\", due: false, complete: \"\", assignment: {} });\r\n      })\r\n      .catch(error => console.log(error.message));\r\n  }\r\n\r\n  editassignment(assignment_id) {\r\n    db.ref(`all_assignments/${this.state.user.uid}/${assignment_id}`)\r\n      .once(\"value\")\r\n      .then(snapshot => {\r\n        this.setState({\r\n          assignment: snapshot.val(),\r\n          content: snapshot.val().content,\r\n          due: snapshot.val().due,\r\n          content: snapshot.val().content\r\n        });\r\n      });\r\n  }\r\n\r\n  deleteassignment(assignment_id) {\r\n    db.ref(`all_assignments/${this.state.user.uid}/${assignment_id}`).remove();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        {this.state.assignments.map(assignment => {\r\n          return (\r\n            <div key={assignment.assignment_id} className=\"card card-body shadow-sm m-4\">\r\n              <p>{assignment.content}</p>\r\n              <p>{assignment.due}</p>\r\n              <p>{assignment.complete}</p>\r\n              <button\r\n                className=\"btn btn-sm text-info\"\r\n                onClick={() => this.editassignment(assignment.assignment_id)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                className=\"btn btn-sm text-danger\"\r\n                onClick={() => this.deleteassignment(assignment.assignment_id)}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"form-group mx-4\">\r\n          <input\r\n            className=\"form-control\"\r\n            onChange={this.handleChange}\r\n            value={this.state.content}\r\n          />\r\n        <input\r\n            className=\"form-control\"\r\n            onChange={this.handleChange}\r\n            value={this.state.due}\r\n          />\r\n                    <input\r\n            className=\"form-control\"\r\n            onChange={this.handleChange}\r\n            value={this.state.complete}\r\n          />\r\n          <button className=\"btn btn-success mt-3\" onClick={this.createassignment}>\r\n            Create assignment\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mx-4\">\r\n          Login in as: <strong>{this.state.user.email}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}